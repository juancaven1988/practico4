package grafica.controladores;

import javax.swing.JPanel;
import javax.swing.JTabbedPane;

import grafica.ventana.DuenosFrame;
import grafica.ventana.MascotasFrame;
import grafica.ventana.TitlePanel;

public class MenuController {

	
	private JTabbedPane tabs;
	
	public MenuController(JTabbedPane tabbedPane)
	{
		tabs = tabbedPane;
	}
	
	public void insertarDueno(DuenosFrame dueno) {
		
		if(dueno == null)
		{
			dueno = new DuenosFrame();
		}
		
		dueno.activarInsertar();
	}

	public void nuevaMascota() {
		
		String title = "Nueva Mascota";
		int i = tabs.indexOfTab(title);
		boolean borrar = false;
		if(tabs.getTabCount() >= 1)
		{
			tabs.setVisible(true);
			borrar = true;
			
		}
		if(i >= 0)
		{
			tabs.setSelectedIndex(i);
		}
		else
		{
			JPanel nuevo = MascotasFrame.nuevaMascota();
			tabs.addTab(title, nuevo);
			i = tabs.indexOfTab(title);
			tabs.setTabComponentAt(i, TitlePanel.getCloseTitlePanel(tabs, nuevo, title));
			tabs.setSelectedIndex(i);
			if(borrar)
			{
				tabs.removeTabAt(0);
			}
		}
		
	}
	
	
}
